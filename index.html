<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosmic Travel with Galaxies</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: black;
        }

        canvas {
            display: block;
        }
    </style>
</head>

<body>
    <canvas id="cosmicCanvas"></canvas>

    <script>
        const canvas = document.getElementById('cosmicCanvas');
        const ctx = canvas.getContext('2d');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const stars = [];
        const galaxies = [];

        function randomStarColor() {
            return `rgba(255, 255, 255, ${Math.random()})`;
        }

        function createStar() {
            return {
                x: Math.random() * canvas.width - canvas.width / 2,
                y: Math.random() * canvas.height - canvas.height / 2,
                z: Math.random() * canvas.width,
                originalZ: Math.random() * canvas.width,
                speed: Math.random() * 0.002 + 0.003, // Slower star speed
                color: randomStarColor(),
                radius: Math.random() * 1.2 + 0.8
            };
        }

        function drawStar(star) {
            const perspective = canvas.width / (canvas.width + star.z);
            const x = (canvas.width / 2) + star.x * perspective;
            const y = (canvas.height / 2) + star.y * perspective;

            ctx.save();
            ctx.fillStyle = star.color;
            ctx.beginPath();
            ctx.arc(x, y, star.radius * perspective, 0, Math.PI * 2);
            ctx.fill();
            ctx.restore();
        }

        function createGalaxy() {
            const x = Math.random() * canvas.width;
            const y = Math.random() * canvas.height;

            return {
                x,
                y,
                size: Math.random() * 200 + 300,
                arms: Math.floor(Math.random() * 5) + 3,
                color: `hsla(${Math.random() * 360}, 100%, 70%, 0.1)`,
                rotation: Math.random() * 2 * Math.PI,
                speed: Math.random() * 0.0002 + 0.0001 // Slower galaxy rotation speed
            };
        }

        function drawGalaxy(galaxy) {
            ctx.save();
            ctx.translate(galaxy.x, galaxy.y);
            ctx.rotate(galaxy.rotation);

            const spiralGradient = ctx.createRadialGradient(0, 0, 0, 0, 0, galaxy.size);
            spiralGradient.addColorStop(0, galaxy.color);
            spiralGradient.addColorStop(1, 'rgba(0, 0, 0, 0)');

            ctx.fillStyle = spiralGradient;
            ctx.globalCompositeOperation = 'lighter';

            for (let arm = 0; arm < galaxy.arms; arm++) {
                ctx.rotate((Math.PI * 2) / galaxy.arms);
                ctx.beginPath();
                for (let i = 0; i < galaxy.size; i += 2) {
                    const angle = Math.log(i + 1) * 0.5;
                    const x = i * Math.cos(angle);
                    const y = i * Math.sin(angle);
                    ctx.lineTo(x, y);
                }
                ctx.stroke();
            }

            ctx.restore();

            galaxy.rotation += galaxy.speed;
        }

        function updateStars() {
            for (let i = 0; i < stars.length; i++) {
                const star = stars[i];
                star.z -= star.speed * canvas.width;

                if (star.z < 1) {
                    stars[i] = createStar();
                    stars[i].z = canvas.width;
                }
            }
        }

        function loop() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            galaxies.forEach(drawGalaxy);
            updateStars();
            stars.forEach(drawStar);

            requestAnimationFrame(loop);
        }

        // Initialize stars and galaxies
        for (let i = 0; i < 400; i++) {
            stars.push(createStar());
        }
        for (let i = 0; i < 3; i++) {
            galaxies.push(createGalaxy());
        }

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        loop();
    </script>
</body>

</html>
